pipeline {
          agent any
		     stages {
			 stage ('Clone Repository') {
			 /* Cloning the repository to the workspace */
			 steps {
			 checkout scm
			 }
			 }
			 stage ('Check docker is working') {
			 /* Checking whether the docker is working fine */
			 steps {
			 bat 'docker ps'
			 }
			 }
			 /*stage ('Change the directory') {
			  Checking whether the docker is working fine 
			 steps {
			 bat 'cd Amazon-customer-review\'
			 }
			 }*/
			 stage('Build Image') {
			 steps {
			 bat 'docker build -t mynlpmodel:v1 .'
			 }
			 }
			 stage('Run Image') {
			 steps {
			 bat 'docker run -d -p 5000:4000 --name nlpmodel mynlpmodel:v1'
			 }
			 }
			 stage('Testing') {
			 steps {
			 bat 'echo %PATH%'
			 }
			 }
			 }
}
